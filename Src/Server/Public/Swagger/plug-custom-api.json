{"openapi":"3.0.0","info":{"title":"Plug-Custom-System","version":"1.0.0"},"paths":{"/api/v1/getCategorys":{"get":{"tags":["品类"],"summary":"查询所有品类(外联iot服务器)","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"}],"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"msg":{"type":"string"},"result":{"type":"array","items":{"$ref":"#/components/schemas/Category"}}}}}}}}}},"/api/v1/getLocalCategorys":{"get":{"tags":["品类"],"summary":"查询所有品类(本地数据库)","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"}],"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"msg":{"type":"string"},"result":{"type":"array","items":{"$ref":"#/components/schemas/CommonResult"}}}}}}}}}},"/api/v1/updateCategoryConfig":{"post":{"tags":["品类"],"summary":"更新品类的配置文件","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","required":true,"description":"产品id"},"config":{"type":"string","description":"产品配置(json格式字符串)","example":"{\"品类测试\":\"配置\"}"}}}}}},"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}},"/api/v1/getPluginProjects":{"get":{"tags":["插件项目信息"],"summary":"获取所有插件项目","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"}],"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}},"/api/v1/deleteProductsById":{"post":{"tags":["插件项目信息"],"summary":"根据id删除插件项目","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"},{"name":"id","description":"插件项目id","in":"query","required":true,"type":"integer"}],"responses":{"100":{"description":"成功删除","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}},"/api/v1/getPluginProjectById":{"get":{"tags":["插件项目信息"],"summary":"根据id获取插件项目","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"},{"name":"id","description":"插件项目id","in":"query","required":true,"type":"integer"}],"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}},"/api/v1/updatePluginProject":{"post":{"tags":["插件项目信息"],"summary":"根据id更新插件项目","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PluginProject"}}}},"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}},"/api/v1/getPluginProjectByProjectName":{"get":{"tags":["插件项目信息"],"summary":"根据项目名称获取插件项目信息","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"},{"name":"projectName","description":"项目名称","in":"query","required":true,"type":"integer"}],"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}},"/api/v1/getPluginProjectByStatus":{"get":{"tags":["插件项目信息"],"summary":"根据状态获取插件项目","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"},{"name":"status","description":"状态(0:闲置, 1:等待, 2:打包中)","in":"query","required":true,"type":"integer"}],"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}},"/api/v1/checkPluginProjectStatus":{"get":{"tags":["插件项目信息"],"summary":"检查当前项目状态","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"}],"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}},"/api/v1/uploadLegalsZip":{"post":{"tags":["品类"],"summary":"上传该品类协议","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"},{"name":"categoryId","description":"选中品类ID","in":"query","required":true,"type":"integer"}],"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}},"/api/v1/getLegals":{"post":{"tags":["品类"],"summary":"获取当前品类协议信息","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"},{"name":"categoryId","description":"选中品类ID","in":"query","required":true,"type":"integer"}],"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}},"/api/v1/getProducts":{"get":{"tags":["产品"],"summary":"根据品类id查询所有产品","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"},{"name":"id","description":"品类id","in":"query","required":true,"type":"integer"}],"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}},"/api/v1/getLocalProducts":{"get":{"tags":["产品"],"summary":"根据品类id查询所有本地产品数据","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"},{"name":"id","description":"品类id","in":"query","required":true,"type":"integer"}],"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}},"/api/v1/deleteLocalProductsById":{"post":{"tags":["产品"],"summary":"根据ID删除本地产品信息","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"产品id"}}}}}},"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}},"/api/v1/updateProductConfig":{"post":{"tags":["产品"],"summary":"更新产品的配置文件","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"产品id"},"config":{"config":"string","description":"产品配置(json格式字符串)"}}}}}},"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}},"/api/v1/updateProductParams":{"post":{"tags":["产品"],"summary":"更新产品的配置文件","produces":["application/json"],"parameters":[{"name":"authorization_v1","description":"登录令牌","in":"header","required":true,"type":"string","example":"Skf7csK6yFme0t6u"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"产品id"},"params":{"type":"string","description":"产品参数(json格式字符串)"}}}}}},"responses":{"100":{"description":"成功获取","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResult"}}}}}}}},"components":{"schemas":{"CommonResult":{"type":"object","properties":{"code":{"type":"integer","default":100},"msg":{"type":"string","default":"成功"},"result":{"type":"object","nullable":true}}},"Category":{"type":"object","properties":{"id":{"type":"integer","description":"id"},"pid":{"type":"integer","description":"pid"},"name":{"type":"string","description":"名称"},"sortName":{"type":"string","description":"简称"},"description":{"type":"string","description":"英文描述"},"comment":{"type":"string","description":"中文描述"},"config":{"type":"object","description":"配置文件"}}},"PluginProject":{"type":"object","required":true,"properties":{"id":{"description":"插件项目id","type":"integer","example":0},"name":{"description":"名称","type":"string","example":"测试名称"},"projectName":{"description":"项目包名","type":"string","example":"项目包名"},"categoryId":{"description":"品类id","type":"integer","example":0},"status":{"description":"当前状态(0:闲置  1:等待  2:打包中)","type":"integer","example":0},"platform":{"description":"产品平台(0:云米  1:米家)","type":"integer","example":0},"git":{"description":"git地址","type":"string","example":"git地址"},"last_update_msg":{"description":"git的更新信息","type":"string","example":"git的更新信息"},"last_update_date":{"description":"git的更新日期","type":"string","example":"git的更新日期"}}},"LegalsList":{"type":"object","properties":{"itemName":{"type":"string","description":"名称"},"data":{"type":"string","description":"中文描述"}}}}},"tags":[]}